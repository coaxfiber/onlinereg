<!-- <mat-toolbar color="primary">
  <mat-toolbar-row>
    <span>Aura Gorgeous System</span>
    <span class="example-spacer"></span>
    <button mat-button   [routerLink]="['/info']" ><mat-icon>touch_app</mat-icon>Info</button>
  </mat-toolbar-row>
</mat-toolbar> -->

<!-- <mat-drawer-container style="height: 100%">
  <mat-drawer #drawer class="example-sidenav" mode="side" opened>
    <div id="sidenav">
    <a mat-button   [routerLink]="['/login']" ><mat-icon>supervised_user_circle</mat-icon> Login</a><br>
    <a mat-button   [routerLink]="['/main']" ><mat-icon>dashboard</mat-icon> Serial Section</a><br>
    </div>
  </mat-drawer>

  <div>
    <button type="button" mat-button (click)="drawer.toggle()">
      <i class="material-icons">reorder</i>
    </button>

    <div style="padding: 20px"> -->
<!-- 
      <router-outlet></router-outlet> -->
      
<!--     </div>
  </div>


</mat-drawer-container>
 -->

<mat-card style="max-width: 800px;margin: 25px auto;background-color: #f2f3f7;" id="boxx" *ngIf="login">
   <p style="font-size: 25px;padding-top: 30px;padding-bottom: 5px;text-align: center;">USL Online Registration</p>

<style type="text/css">
  @media only screen and (max-width: 800px) {
  .fullwidth {
    width: 100% !important;
    margin-right: 0px;
  }
  #boxx{
    margin: 25px 10px 25px 10px;
  }
}
</style>

    <mat-progress-bar mode="indeterminate" style="margin: 50px 20px 20px 20px;width: calc(100% - 40px)"  *ngIf='loading'></mat-progress-bar>
    <p style="text-align: center; padding-bottom: 50px"  *ngIf='loading'>Loading Data...</p>

    <div  *ngIf='loading==false' style="padding-right: 30px;padding-left: 30px;">
      Email in use: <b>{{global.email}}</b>
    </div>
    <div style="height: 10px"></div>

  <div *ngIf="type=='reg'">
    <table style="width: 100%" *ngIf='loading==false'>
      <tr> 
        <td style="width: 100%;padding-left: 30px;padding-right: 30px;margin-top: -10px">
          <mat-form-field appearance="outline" style="width: 100%">
            <mat-label>Select your Program Level</mat-label>
            <mat-select [(ngModel)]="proglevelval" (ngModelChange)='check()'>
              <mat-option *ngFor="let a of proglevel" value="{{a.programLevel}}">{{a.progLevelDesc}}</mat-option>
            </mat-select>
          </mat-form-field>
        </td>
      </tr>
    </table>


    <p style="padding-bottom: 15px;margin-top: -10px;margin-left: 40px;padding-right: 30px" *ngIf="proglevelval=='01'">
      <mat-checkbox  [(ngModel)]="condition" >The child must be 4 years old</mat-checkbox> by October 31, 2020.
    </p>

    <p style="padding-bottom: 15px;margin-top: -10px;margin-left: 40px;padding-right: 30px" *ngIf="proglevelval=='02'">
      <mat-checkbox  [(ngModel)]="condition">The child must be 5 years old</mat-checkbox> by October 31, 2020.
    </p>

    <p style="padding-bottom: 15px;margin-top: -10px;margin-left: 40px;padding-right: 30px" *ngIf="proglevelval=='04'">
      <mat-checkbox  [(ngModel)]="condition">You must have a </mat-checkbox> general weighted average of at least 80%.
    </p>

    <p style="padding-bottom: 15px;margin-top: -10px;margin-left: 40px;padding-right: 30px" *ngIf="proglevelval=='05'">
      <mat-checkbox  [(ngModel)]="condition" >You must have a </mat-checkbox> general weighted average of at least 80% with no failing grades in any of the grading periods.
    </p>
    <p style="padding-bottom: 15px;margin-top: -10px;margin-left: 48px;padding-right: 30px;font-size: 16px" *ngIf="(proglevelval=='01'||proglevelval=='02'||proglevelval=='03')&&condition"><b>Please provide child information and click register.</b></p>
    <div *ngIf="proglevelval!=''&&condition">
    <div *ngIf="proglevelval!=''&&loading==false">
    <table style="width: 100%;margin-top: -15px">
      <tr>
        <td style="width: 50%;padding-right: 30px;padding-left: 30px" colspan="3">
          <mat-form-field appearance="outline" style="width: 100%">
              <mat-label>First name</mat-label>
              <input matInput placeholder="" [(ngModel)]="fname" autocomplete="off">
          </mat-form-field>
        </td>
        
      </tr>
    </table>
    <div style="padding-left: 30px;padding-right: 30px;margin-top: -10px">
          <mat-form-field appearance="outline" style="width: calc(35% - 10px);margin-right: 10px" class="fullwidth">
              <mat-label>Middle name</mat-label>
              <input matInput placeholder="" [(ngModel)]="mname" autocomplete="off">
          </mat-form-field>
          <mat-form-field appearance="outline" style="width: calc(40% - 10px);margin-right: 10px" class="fullwidth">
              <mat-label>Last name</mat-label>
              <input matInput placeholder="" [(ngModel)]="lname" autocomplete="off" >
          </mat-form-field>
          <mat-form-field appearance="outline" style="width: 25%" class="fullwidth">
              <mat-label>Suffix</mat-label>
              <input matInput placeholder="" [(ngModel)]="suffix" autocomplete="off">
          </mat-form-field>
    </div>

    <div style="padding-left: 30px;padding-right: 30px;margin-top: -10px">
         
          <mat-form-field appearance="outline" style="width: calc(35% - 10px);margin-right: 10px" class="fullwidth">
            <mat-label>Gender</mat-label>
            <mat-select  [(ngModel)]="gender">
              <mat-option value="M">Male</mat-option>
              <mat-option value="F">Female</mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="outline"  style="width: calc(40% - 10px);margin-right: 10px" class="fullwidth">
              <mat-label>Birth Date</mat-label>
          <input readonly matInput [matDatepicker]="picker" placeholder="Birth Date" (click)="picker.open()"  [(ngModel)]="bdate" name="bdate">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
        <mat-form-field appearance="outline" style="width: 25%"  class="fullwidth">
              <mat-label>Contact Number</mat-label>
              <input matInput autocomplete="off" [(ngModel)]="cnumber" placeholder="0917XXXXXXX" maxlength="11">
          </mat-form-field>
    </div>

    <div style="padding-left: 30px;padding-right: 30px;margin-top: -10px"  *ngIf="proglevelval=='01'||proglevelval=='02'||proglevelval=='03'">
         
          
          <mat-form-field appearance="outline"  style="width: calc(30% - 10px);margin-right: 10px" class="fullwidth">
              <mat-label>Contact Person</mat-label>
              <input matInput placeholder="" autocomplete="off" [(ngModel)]="cperson">
          </mat-form-field>

          <mat-form-field appearance="outline" style="width: 50%;margin-right: 10px"  *ngIf="proglevelval!='01'&&proglevelval!='02'&&proglevelval!='03'" class="fullwidth">
            <mat-label>School Graduated From</mat-label>
            <input type="text" placeholder="" [(ngModel)]="gradfrom" matInput [matAutocomplete]="auto" (keydown)='keyDownFunction()'>
            <mat-autocomplete #auto="matAutocomplete">
              <mat-option *ngFor="let option of schoolstemp" [value]="option">
                {{option}}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>

          <mat-form-field appearance="outline" style="width: calc(20% - 10px);" class="fullwidth"   *ngIf="proglevelval!='01'&&proglevelval!='02'&&proglevelval!='03'">
            <mat-label>Year Graduated</mat-label>
            <mat-select  [(ngModel)]="yeargrad">
              <mat-option *ngFor="let a of currdatearray" value="{{a}}">{{a}}</mat-option>
            </mat-select>
          </mat-form-field>
    </div>

    <div style="padding-left: 30px;padding-right: 30px;margin-top: -10px"  *ngIf="proglevelval=='04'||proglevelval=='05'||proglevelval=='06'||proglevelval=='07'">
         
          
          <mat-form-field appearance="outline" style="width: 70%;margin-right: 10px"  *ngIf="proglevelval!='01'&&proglevelval!='02'&&proglevelval!='03'" class="fullwidth">
            <mat-label>School Graduated From</mat-label>
            <input type="text" placeholder="" [(ngModel)]="gradfrom" matInput [matAutocomplete]="auto" (keydown)='keyDownFunction()'>
            <mat-autocomplete #auto="matAutocomplete">
              <mat-option *ngFor="let option of schoolstemp" [value]="option">
                {{option}}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>

          <mat-form-field appearance="outline" style="width: calc(30% - 10px);" class="fullwidth"   *ngIf="proglevelval!='01'&&proglevelval!='02'&&proglevelval!='03'">
            <mat-label>Year Graduated</mat-label>
            <mat-select  [(ngModel)]="yeargrad">
              <mat-option *ngFor="let a of currdatearray" value="{{a}}">{{a}}</mat-option>
            </mat-select>
          </mat-form-field>
    </div>

      <table style="padding-left: 30px;padding-right: 30px;margin-top: -10px;width: 100%" *ngIf="proglevelval=='04'||proglevelval=='05'||proglevelval=='06'||proglevelval=='07'">
      <tr>
        <td>
        <mat-form-field style="width: calc(100% - 50px)" appearance="outline"  (click)="lookup()">
          <mat-label>School Address</mat-label>
          <input autofocus matInput [(ngModel)]="address" readonly="readonly">
          
        </mat-form-field>
        <button mat-mini-fab color="primary"  (click)="lookup()" style="float: right;margin-top: 13px">
          <mat-icon>search</mat-icon>
        </button>
        </td>
      </tr>
      </table>


    <div *ngIf="proglevelval=='05'">
      <div style="padding-left: 30px;padding-right: 30px;margin-top: -10px">
            <mat-form-field appearance="outline" style="width: calc(100% - 10px);margin-right: 10px" class="fullwidth">
              <mat-label>Select Strand Priority 1</mat-label>
              <mat-select [(ngModel)]="strandval">
                <mat-option *ngFor="let a of strandfiltered" value="{{a.strandId}}">{{a.strandTitle}}</mat-option>
              </mat-select>
            </mat-form-field>
      </div>
      <div style="padding-left: 30px;padding-right: 30px;margin-top: -10px">
           
            <mat-form-field appearance="outline" style="width: calc(100% - 10px);margin-right: 10px" class="fullwidth">
              <mat-label>Select Strand Priority 2</mat-label>
              <mat-select [(ngModel)]="strandval1">
                <mat-option *ngFor="let a of strandfiltered" value="{{a.strandId}}">{{a.strandTitle}}</mat-option>
              </mat-select>
            </mat-form-field>
      </div>
      <p style="padding-left: 45px;padding-right: 30px;margin-top: -10px;margin-bottom: 25px"><a href="#">Learn more</a> about Academic Tracks.</p>
    </div>

    <div *ngIf="proglevelval=='06'">
      <div style="padding-left: 30px;padding-right: 30px;margin-top: -10px">
            <mat-form-field appearance="outline" style="width: calc(100% - 10px);margin-right: 10px" class="fullwidth">
              <mat-label>Select Current Strand</mat-label>
              <mat-select [(ngModel)]="collegestrandval">
                <mat-option *ngFor="let a of strand" value="{{a.strandId}}">{{a.strandTitle}}</mat-option>
              </mat-select>
            </mat-form-field>
      </div>
    <div style="padding-left: 30px;padding-right: 30px;margin-top: -10px">
          <mat-form-field appearance="outline" style="width: calc(100% - 10px);margin-right: 10px" class="fullwidth">
            <mat-label>Select Preferred Course</mat-label>
            <mat-select [(ngModel)]="courseval">
              <mat-option *ngFor="let a of courses" value="{{a.programId}}">{{a.course}}</mat-option>
            </mat-select>
          </mat-form-field>
    </div>
    <div style="padding-left: 30px;padding-right: 30px;margin-top: -10px">
          <mat-form-field appearance="outline" style="width: calc(100% - 10px);margin-right: 10px" class="fullwidth">
            <mat-label>Select Alternative Course 1</mat-label>
            <mat-select [(ngModel)]="courseval1">
              <mat-option *ngFor="let a of courses" value="{{a.programId}}">{{a.course}}</mat-option>
            </mat-select>
          </mat-form-field>
    </div>
    <div style="padding-left: 30px;padding-right: 30px;margin-top: -10px">
          <mat-form-field appearance="outline" style="width: calc(100% - 10px);margin-right: 10px" class="fullwidth">
            <mat-label>Select Alternative Course 2</mat-label>
            <mat-select [(ngModel)]="courseval2">
              <mat-option *ngFor="let a of courses" value="{{a.programId}}">{{a.course}}</mat-option>
            </mat-select>
          </mat-form-field>
    </div>
    </div>
    <div *ngIf="proglevelval=='07'">
    <div style="padding-left: 30px;padding-right: 30px;margin-top: -10px">
          <mat-form-field appearance="outline" style="width: calc(100% - 10px);margin-right: 10px" class="fullwidth">
            <mat-label>Select Program</mat-label>
            <mat-select [(ngModel)]="courseval">
              <mat-option *ngFor="let a of gradcourses" value="{{a.programId}}">{{a.course}}</mat-option>
            </mat-select>
          </mat-form-field>
    </div>    
    </div>
    <div  *ngIf="proglevelval!=''&&loading==false" style="padding-left: 30px;clear: both">
          <div style="float: left;width: 40%"  class="fullwidth">
            <div style="height: 5px"></div>
              Upload Proof of Payment:<br>
              <input mat-raised-button type="file" id="avatar" (change)="onFileChange($event)" #fileInput class="inputfile" style="margin-top: 10px;margin-bottom: 5px"/>
          </div>
          <div style="float: left;width: 50%;margin-right: 20px;margin-left: 20px"  class="fullwidth">
           <mat-form-field appearance="outline"  style="width: calc(90% - 20px);margin-right: 25px;margin-left: 20px">
                  <mat-label>Date of Payment</mat-label>
              <input readonly matInput [matDatepicker]="picker2" placeholder="Payment Date" (click)="picker2.open()"  [(ngModel)]="pdate" name="pdate">
              <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
              <mat-datepicker #picker2></mat-datepicker>
            </mat-form-field>
          </div>


              <img [src]='attachment'  *ngIf='attachment!=""' style="width:calc(100% - 30px)" />

            <div style="height: 15px"></div>
    </div>

    <p style="margin-bottom: 15px;margin-top: 10px;margin-left: 40px">
      <mat-checkbox  [(ngModel)]="accept">I accept the &nbsp;</mat-checkbox> <a href="javascript:void(0)" (click)="openDialog()">Term of Use</a>
    </p>

    <button mat-raised-button color="primary" style="width: calc(100% - 60px);margin: 0 30px 30px 30px;font-size: 18px;height: 50px" (click)="register()" [disabled]="!accept">Register</button>

    </div>
    </div>
    </div>

    <div style="overflow: auto;">
  <div *ngIf="type=='stat'" style="padding: 10px;width: 45%;float: left;" class="fullwidth" >
      <div id="pdfTable" #pdfTable>
      <h3 style="text-align: center;margin-top: 0px">Applicant Information:</h3>
      <table  id="customers">
        <tr>
          <td width="200px">ProgramLevel: </td>
          <td>{{proglevelval}}</td>
        </tr>
        <tr>
          <td>Full name: </td>
          <td>{{fullname}}</td>
        </tr>
        <tr>
          <td>Date of birth:</td>
          <td style="width: calc(50% - 300px)">{{vars.DateOfBirth | date: 'mediumDate'}}</td>
        </tr>
        <tr>
          <td>Gender:</td>
          <td style="width: calc(50% - 300px)">{{vars.Gender}}</td>
        </tr>
        <tr>
          <td>Contact Number:</td>
          <td>{{vars.ContactNumber}}</td>
        </tr>
        <tr>
          <td>Email Address:</td>
          <td>{{global.email}}</td>
        </tr>
        <tr *ngIf="vars.ProgramLevel=='01'||vars.ProgramLevel=='02'||vars.ProgramLevel=='03'">
          <td>Contact Person:</td>
          <td>{{vars.ContactPerson}}</td>
        </tr>
        <tr>
          <td>Date of Payment:</td>
          <td>{{vars.pdate | date: 'mediumDate'}}</td>
        </tr>
        <tr *ngIf="vars.ProgramLevel=='04'||vars.ProgramLevel=='05'||vars.ProgramLevel=='06'||vars.ProgramLevel=='07'">
          <td>School Graduated From: </td>
          <td>{{vars.SchoolGraduatedFrom}}</td>
        </tr><tr *ngIf="vars.ProgramLevel=='04'||vars.ProgramLevel=='05'||vars.ProgramLevel=='06'||vars.ProgramLevel=='07'">
          <td>Year Graduated: </td>
          <td>{{vars.YearGraduated}}</td>
        </tr>
        <tr *ngIf="vars.ProgramLevel=='06'">
          <td>Current Strand: </td>
          <td>{{currentstrand}}</td>
        </tr>
        <tr *ngIf="vars.ProgramLevel=='06'||vars.ProgramLevel=='07'">
          <td>Preffered Course: </td>
          <td>{{pcourse}}</td>
        </tr>
        <tr *ngIf="vars.ProgramLevel=='06'">
          <td>Alternative Course 1: </td>
          <td>{{acourse1}}</td>
        </tr>
        <tr *ngIf="vars.ProgramLevel=='06'">
          <td>Alternative Course 2: </td>
          <td>{{acourse2}}</td>
        </tr>
        <tr *ngIf="vars.ProgramLevel=='05'">
          <td>Strand Priority 1: </td>
          <td>{{strandp1}}</td>
        </tr>
        <tr *ngIf="vars.ProgramLevel=='05'">
          <td>Strand Priority 2: </td>
          <td>{{strandp2}}</td>
        </tr>
      </table>
      <div style="height: 10px"></div>
      <hr>
      <p *ngIf="vars.ProgramLevel=='05'">*NOTE: If you are the TOP 1 or TOP 2 of your batch, please secure a certification signed by your Principal and submit it to the High School Guidance Office. This will exempt you from taking the Entrance Test.</p>
      <b>Please take note of the following:</b>
      <ol type="1">
      <li>You will receive a call or text from the Guidance Office to inform you of your test schedule.</li>
      <li>Please show the CONFIRMATION TEXT to the guard-on-duty when you come for your scheduled entrance test. Only students with confirmation are allowed entry to the University campus.</li>
      <li>Please use a mask (No Mask, No Entry policy) and observe physical distancing when you are inside the campus.</li>
      <li>Only one (1) chaperone per pupil/student is allowed.</li>
      </ol>
      <div  *ngIf="vars.ProgramLevel=='05'||vars.ProgramLevel=='04'||vars.ProgramLevel=='06'"><b>Please bring the following during your scheduled examination:</b><br></div>

      <div *ngIf="vars.ProgramLevel=='05'||vars.ProgramLevel=='04'">
      <ol>
      <li>Clear photocopy of Report Card with a GPA of 80% or above</li>
      <li>Testing fee of P 100.00</li>
      <li>Two lead pencils</li>
      <li>Two pieces of bond paper</li>
      <li>One long white paper folder</li>
      </ol>
      </div>
      <div *ngIf="vars.ProgramLevel=='06'">
      <ol>

      <li>Properly accomplished USL-CET Application Form(FM-GCC-302) available at <a href="http://bit.ly/USLCET2020">http://bit.ly/USLCET2020</a> or visit the College Guidance Center.</li>
      <li>Clear photocopy of Report Card (Form 138).</li>
      <li>USL-CET Fee: One Hundred Pesos (PHP100) to be settled at the Accounting Office. Once the permit has been secured, the paid amount becomes non-refundable.</li>
      <li>One (1) 2x2 ID photo WITH NAME TAG; white background; eyes and face and/or hair not covered. Affix your signature at the back of the photo.</li>

      </ol> 
      &nbsp;<br>
      &nbsp;<br>
      &nbsp;<br>
      &nbsp;<br> 
      </div>
      </div>  


    <button mat-raised-button color="primary" style="background-color: #3f51b5;color: white">
      <span class="material-icons">
      print
    </span> Print</button>
    
    <button mat-raised-button color="primary" style="float:right;background-color: #3f51b5;color: white">
      <span class="material-icons">
        edit
      </span> Update</button>
      <div style="height: 15px"></div>
    </div>
  <div style="float: right; width: 45%;padding: 10px" class="fullwidth" >
    
      <h3 style="text-align: center;margin-top: 0px">Registration Status</h3>

      <mat-checkbox> On process</mat-checkbox><br>
      <mat-checkbox> Verified</mat-checkbox>
  </div>
  </div>

  </mat-card>
